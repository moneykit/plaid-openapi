# coding: utf-8
# AUTOGENERATED with MDM customization.  Do not edit.




from __future__ import annotations
from datetime import date as date_  # noqa: F401
from datetime import datetime as datetime_  # noqa: F401

import re  # noqa: F401
from typing import Any, Dict, List, Optional  # noqa: F401

from pydantic import field_validator, ConfigDict, AnyUrl, BaseModel, EmailStr, Field  # noqa: F401
from plaid_skel.models.address_data import AddressData




class ConsumerReportUserIdentity(BaseModel):
    """This field is only used by integrations created before December 10, 2025. All other integrations must use the `identity` object instead. For more details, see [new user APIs](https://plaid.com/docs/api/users/user-apis). To create a Plaid Check Consumer Report for a user when using a `user_token`, this field must be present. If this field is not provided during user token creation, you can add it to the user later by calling `/user/update`. Once the field has been added to the user, you will be able to call `/link/token/create` with a non-empty `consumer_report_permissible_purpose` (which will automatically create a Plaid Check Consumer Report), or call `/cra/check_report/create` for that user."""

    model_config = ConfigDict(json_schema_extra={"nullable": True})

    first_name: str = Field( description="The user's first name")
    last_name: str = Field( description="The user's last name")
    phone_numbers: List[str] = Field( description="The user's phone number, in E.164 format: +{countrycode}{number}. For example: \"+14157452130\". Phone numbers provided in other formats will be parsed on a best-effort basis. Phone number input is validated against valid number ranges; number strings that do not match a real-world phone numbering scheme may cause the request to fail, even in the Sandbox test environment.")
    emails: List[str] = Field( description="The user's emails")
    ssn_full: Optional[str] = Field(default=None, description="The user's full social security number. This field should only be provided by lenders intending to share the resulting consumer report with a Government-Sponsored Enterprise (GSE), such as Fannie Mae or Freddie Mac.  Format: \"ddd-dd-dddd\"")
    ssn_last_4: Optional[str] = Field(default=None, description="The last 4 digits of the user's social security number.")
    date_of_birth: Optional[date_] = Field(default=None, description="To be provided in the format \"yyyy-mm-dd\". This field is required for all Plaid Check customers.")
    primary_address: AddressData = Field()

    @field_validator("ssn_last_4")
    @classmethod
    def ssn_last_4_min_length(cls, value):
        assert len(value) >= 4
        return value

    @field_validator("ssn_last_4")
    @classmethod
    def ssn_last_4_max_length(cls, value):
        assert len(value) <= 4
        return value

ConsumerReportUserIdentity.update_forward_refs()
